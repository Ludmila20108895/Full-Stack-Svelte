import{f as n,a as d}from"../chunks/Cne19o6N.js";import"../chunks/faPC8McD.js";import{p as Z,f as $,t as z,a as aa,s,c as t,n as B,r as a,g as e,i as ta,m as sa,b as ea}from"../chunks/BJmXy5sT.js";import{s as C}from"../chunks/DtBVwIPO.js";import{i as ia}from"../chunks/DAoz8sdF.js";import{e as ra,i as la}from"../chunks/BNuQNzG_.js";import{r as E,a as G,s as oa,b as da,c as na}from"../chunks/vxbBvgOj.js";import{e as ca}from"../chunks/CS5AdW1K.js";import{b as va}from"../chunks/6q39oKcq.js";import{i as pa}from"../chunks/Cv8AHZ5B.js";import{p as ua}from"../chunks/nFlSyP-m.js";import{N as ma}from"../chunks/Ctq9ZN9f.js";import{F as fa}from"../chunks/Dzz7srfG.js";var ha=n('<tr><td><strong class="has-text-weight-bold"> </strong></td><td><strong class="has-text-weight-bold"> </strong></td><td class="has-text-right has-text-weight-semibold"><a class="button is-warning is-rounded mr-2" aria-label="View details"><span class="icon"><i class="fa-solid fa-folder-open"></i></span></a> <form method="POST" action="?/delete" style="display:inline;"><input type="hidden" name="id"/> <button class="button is-warning is-rounded mr-2" aria-label="Delete place"><span class="icon"><i class="fas fa-trash"></i></span></button></form> <button class="button is-warning is-rounded" aria-label="Toggle favourite"><span class="icon"><i></i></span></button></td></tr>'),ba=n('<div style="max-height: 400px; overflow-y: auto; border: 1px solid #ddd;"><table class="table is-fullwidth is-striped"><tbody></tbody></table></div>'),ga=n('<p class="has-text-grey-light">No places added yet.</p>'),_a=n('<!> <section class="section"><div class="container"><h1 class="title is-2 has-text-weight-bold has-text-primary has-text-centered">üèôÔ∏è Add New Visited Place</h1> <div class="columns"><div class="column is-half"><div class="box has-background-light p-5"><h2 class="title is-4 has-text-primary">Place Details</h2> <form method="POST" action="?/add"><div class="field"><label class="label" for="name"><strong class="has-text-weight-bold">Place Name</strong></label> <div class="control"><input id="name" class="input" type="text" name="name" required/></div></div> <div class="field"><label class="label" for="visitDate"><strong class="has-text-weight-bold">Date of Visit</strong></label> <div class="control"><input id="visitDate" type="date" name="visitDate" class="input" required/></div></div> <div class="field"><label class="label" for="latitude"><strong class="has-text-weight-bold">Latitude</strong></label> <div class="control"><input id="latitude" class="input" type="number" step="any" name="latitude" required/></div></div> <div class="field"><label class="label" for="longitude"><strong class="has-text-weight-bold">Longitude</strong></label> <div class="control"><input id="longitude" class="input" type="number" step="any" name="longitude" required/></div></div> <input type="hidden" name="category"/> <button class="button is-primary is-fullwidth">Add Place</button></form></div></div> <div class="column is-half"><div class="box has-background-light p-5"><h2 class="title is-4 has-text-primary">üìç Visited Places</h2> <!></div></div></div></div></section> <!>',1);function Aa(H,g){Z(g,!1);let o=ua(g,"data",8),_=sa();pa();var x=_a(),y=$(x);ma(y);var c=s(y,2),w=t(c),P=s(t(w),2),v=t(P),D=t(v),k=s(t(D),2),N=s(t(k),8);E(N),B(2),a(k),a(D),a(v);var q=s(v,2),T=t(q),J=s(t(T),2);{var K=r=>{var l=ba(),V=t(l),F=t(V);ra(F,5,()=>o().pois,la,(p,i,xa)=>{var u=ha(),m=t(u),L=t(m),R=t(L,!0);a(L),a(m);var f=s(m),O=t(f),U=t(O,!0);a(O),a(f);var S=s(f),A=t(S),h=s(A,2),j=t(h);E(j),B(2),a(h);var b=s(h,2),I=t(b),W=t(I);a(I),a(b),a(S),a(u),z(()=>{C(R,e(i).name),C(U,e(i).visitDate),oa(A,"href",`/added-places/${e(i)._id}`),G(j,e(i)._id),da(W,1,na(e(i).favourite?"fa-solid fa-heart has-text-danger":"fa-regular fa-heart"))}),ca("click",b,async()=>{const X=await fetch(`/api/pois/${e(i)._id}/favourite`,{method:"POST"});if(X.ok){const Y=await X.json();e(i).favourite=Y.favourite,ta(()=>o().pois)}else alert("Failed to update favourite status.")}),d(p,u)}),a(F),a(V),a(l),va(l,p=>ea(_,p),()=>e(_)),d(r,l)},M=r=>{var l=ga();d(r,l)};ia(J,r=>{o().pois.length>0?r(K):r(M,!1)})}a(T),a(q),a(P),a(w),a(c);var Q=s(c,2);fa(Q),z(()=>G(N,o().category)),d(H,x),aa()}export{Aa as component};

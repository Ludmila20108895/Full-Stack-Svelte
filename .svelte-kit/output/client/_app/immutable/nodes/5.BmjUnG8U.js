import{_ as G}from"../chunks/Dp1pzeXC.js";import{f as v,a as m}from"../chunks/Cne19o6N.js";import"../chunks/faPC8McD.js";import{o as Y}from"../chunks/Bzwl_pXD.js";import{p as j,f as q,a as C,s as i,g as o,m as H,c as r,b as J,r as a,t as K}from"../chunks/BJmXy5sT.js";import{s as M}from"../chunks/DtBVwIPO.js";import{i as Q}from"../chunks/DAoz8sdF.js";import{e as W,i as X}from"../chunks/BNuQNzG_.js";import{s as O}from"../chunks/vxbBvgOj.js";import{b as Z}from"../chunks/6q39oKcq.js";import{i as tt}from"../chunks/Cv8AHZ5B.js";import{p as at}from"../chunks/nFlSyP-m.js";/* empty css                */import{N as st}from"../chunks/Ctq9ZN9f.js";import{F as rt}from"../chunks/Dzz7srfG.js";var et=v('<tr><td><strong> </strong></td><td><strong> </strong></td><td class="has-text-right"><a class="button is-warning is-rounded mr-2" title="View Details" aria-label="View Details"><span class="icon"><i class="fa-solid fa-folder-open"></i></span></a> <form method="POST" style="display:inline;"></form></td></tr>'),it=v('<div style="max-height: 400px; overflow-y: auto;"><table class="table is-fullwidth is-striped"><tbody></tbody></table></div>'),ot=v(`<p class="has-text-grey-light">You haven't added any favourites yet.</p>`),lt=v('<!> <section class="section"><div class="container"><h1 class="title is-2 has-text-weight-bold has-text-primary has-text-centered">‚ù§Ô∏è My Favourite Places</h1> <div class="columns"><div class="column is-half"><div class="box has-background-light p-5"><h2 class="title is-4 has-text-primary">üó∫Ô∏è Location on Map</h2> <div style="height: 400px;"></div></div></div> <div class="column is-half"><div class="box has-background-light p-5"><h2 class="title is-4 has-text-primary">üìç Favourite Places</h2> <!></div></div></div></div></section> <!>',1);function wt(T,_){j(_,!1);let p=at(_,"data",8),d=H();Y(async()=>{if(!o(d))return;const s=await G(()=>import("../chunks/r9KgTLRM.js").then(t=>t.l),[],import.meta.url);delete s.Icon.Default.prototype._getIconUrl,s.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const e=s.map(o(d)).setView([53.35,-6.26],6);s.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(e);const l=p().favourites.filter(t=>t.latitude&&t.longitude).map(t=>s.marker([t.latitude,t.longitude]).bindPopup(`
						<strong>${t.name}</strong><br>
						${t.category}<br>
						Visited: ${t.visitDate}<br>
						<a href="/added-places/${t._id}" class="button is-link is-small has-text-black mt-2">Visit</a>
					`));if(l.length){const t=s.featureGroup(l).addTo(e);e.fitBounds(t.getBounds())}}),tt();var b=lt(),y=q(b);st(y);var c=i(y,2),x=r(c),k=i(r(x),2),f=r(k),w=r(f),U=i(r(w),2);Z(U,s=>J(d,s),()=>o(d)),a(w),a(f);var D=i(f,2),P=r(D),B=i(r(P),2);{var E=s=>{var e=it(),l=r(e),t=r(l);W(t,5,()=>p().favourites,X,(S,n)=>{var h=et(),g=r(h),V=r(g),$=r(V,!0);a(V),a(g);var u=i(g),I=r(u),z=r(I,!0);a(I),a(u);var L=i(u),F=r(L),A=i(F,2);a(L),a(h),K(()=>{M($,o(n).name),M(z,o(n).visitDate),O(F,"href",`/added-places/${o(n)._id}`),O(A,"action",`/api/pois/${o(n)._id}/favourite`)}),m(S,h)}),a(t),a(l),a(e),m(s,e)},N=s=>{var e=ot();m(s,e)};Q(B,s=>{p().favourites.length>0?s(E):s(N,!1)})}a(P),a(D),a(k),a(x),a(c);var R=i(c,2);rt(R),m(T,b),C()}export{wt as component};

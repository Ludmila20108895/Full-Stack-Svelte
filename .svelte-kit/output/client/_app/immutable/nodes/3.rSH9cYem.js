import{f as v,a as d}from"../chunks/Cne19o6N.js";import"../chunks/faPC8McD.js";import{p as Q,f as F,t as c,a as X,s as t,c as i,r as a,h as aa,g as w}from"../chunks/BJmXy5sT.js";import{s as h}from"../chunks/DtBVwIPO.js";import{i as k}from"../chunks/DAoz8sdF.js";import{e as ta,i as ia}from"../chunks/BNuQNzG_.js";import{s as l}from"../chunks/vxbBvgOj.js";import{i as ea}from"../chunks/Cv8AHZ5B.js";import{p as sa}from"../chunks/nFlSyP-m.js";import{N as ra}from"../chunks/Ctq9ZN9f.js";import{F as oa}from"../chunks/Dzz7srfG.js";var la=v('<iframe title="Map showing POI location" width="100%" height="200" style="border: 0" loading="lazy" referrerpolicy="no-referrer-when-downgrade" allowfullscreen=""></iframe> <p class="mt-3"><a target="_blank" class="button is-primary is-fullwidth" aria-label="Open in Google Maps">Open in Google Maps üåç</a></p>',1),pa=v('<p class="has-text-danger">No location data available.</p>'),na=v('<div class="notification is-info mt-4 weather-box is-fullwidth svelte-1i0e5r6"><div class="weather-inline svelte-1i0e5r6"><span><strong>Current Weather:</strong> </span> <img alt="Weather icon" style="width: 30px; height: 30px; margin-left: 8px;"/></div></div>'),da=v('<div style="display:inline-block; margin-right:15px; width:150px; height:150px; position:relative;"><a target="_blank" title="View Full Image"><img alt="" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;"/></a> <form method="GET" style="position: absolute; bottom: 5px; right: 5px; margin: 0;"><button type="submit" class="button is-warning is-rounded is-small delete-button" title="Delete this image"><span class="icon is-small"><i class="fas fa-trash"></i></span></button></form></div>'),va=v('<div style="overflow-x: auto; white-space: nowrap; padding: 10px 0;"></div>'),ma=v('<p class="has-text-grey-light">No images uploaded yet.</p>'),ca=v('<!> <section class="section"><div class="container"><h1 class="title is-2 has-text-weight-bold has-text-primary has-text-centered"> </h1> <div class="columns"><div class="column is-half"><div class="box has-background-light p-5"><h2 class="title is-4 has-text-primary">Details</h2> <p><strong>Category:</strong> </p> <p><strong>Visited on:</strong> </p> <hr/> <h2 class="title is-5 has-text-primary">Upload Memory Pictures</h2> <form method="POST" enctype="multipart/form-data"><div class="field"><label class="label" for="images">Choose images</label> <div class="control"><input type="file" id="images" name="images" multiple class="input"/></div></div> <button type="submit" class="button is-primary is-fullwidth">Upload</button></form></div></div> <div class="column is-half"><div class="box has-background-light p-5"><h2 class="title is-4 has-text-primary">Location</h2> <!> <!></div></div></div> <div class="box mt-5"><h2 class="title is-4 has-text-primary">Photo Album</h2> <!></div> <div class="has-text-centered mt-5"><a class="button is-primary" aria-label="Back to My Places">‚¨Ö Back to My Places</a></div></div></section> <!>',1);function Pa(L,M){Q(M,!1);let e=sa(M,"data",8);const P="AIzaSyB1N1JCngsMi56hlZiFRlAKCUOPbw0IhEk";console.log("Loaded Google Maps Key:",P),ea();var $=ca(),I=F($);ra(I);var g=t(I,2),C=i(g),f=i(C),U=i(f);a(f);var _=t(f,2),u=i(_),O=i(u),b=t(i(O),2),q=t(i(b));a(b);var y=t(b,2),B=t(i(y));a(y);var D=t(y,6);a(O),a(u);var G=t(u,2),A=i(G),E=t(i(A),2);{var K=s=>{var r=la(),p=F(r),o=t(p,2),n=i(o);a(o),c(()=>{l(p,"src",`https://www.google.com/maps/embed/v1/place?key=${P}&q=${e().poi.latitude},${e().poi.longitude}`),l(n,"href",`https://www.google.com/maps/search/?api=1&query=${e().poi.latitude},${e().poi.longitude}`)}),d(s,r)},S=s=>{var r=pa();d(s,r)};k(E,s=>{e().poi.latitude?s(K):s(S,!1)})}var T=t(E,2);{var V=s=>{var r=na(),p=i(r),o=i(p),n=t(i(o));a(o);var m=t(o,2);a(p),a(r),c(()=>{h(n,` ${e().weather.description??""} ‚Äì ${e().weather.temperature??""}¬∞C`),l(m,"src",`https://openweathermap.org/img/wn/${e().weather.icon}@2x.png`)}),d(s,r)};k(T,s=>{e().weather&&s(V)})}a(A),a(G),a(_);var x=t(_,2),z=t(i(x),2);{var R=s=>{var r=va();ta(r,5,()=>e().poi.images,ia,(p,o)=>{var n=da(),m=i(n),Y=i(m);a(m);var Z=t(m,2);a(n),c(H=>{l(m,"href",w(o)),l(Y,"src",w(o)),l(Z,"action",H)},[()=>`/api/pois/${e().poi._id}/images/${encodeURIComponent(w(o))}/delete`],aa),d(p,n)}),a(r),d(s,r)},W=s=>{var r=ma();d(s,r)};k(z,s=>{e().poi.images.length>0?s(R):s(W,!1)})}a(x);var N=t(x,2),j=i(N);a(N),a(C),a(g);var J=t(g,2);oa(J),c(()=>{h(U,`üìç ${e().poi.name??""}`),h(q,` ${e().poi.category??""}`),h(B,` ${e().poi.visitDate??""}`),l(D,"action",`/api/pois/${e().poi._id}/upload`),l(j,"href",`/pois/add?category=${e().poi.category}`)}),d(L,$),X()}export{Pa as component};

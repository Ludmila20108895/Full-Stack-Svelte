import{_ as C}from"../chunks/Dp1pzeXC.js";import{f as Y,a as E}from"../chunks/Cne19o6N.js";import"../chunks/faPC8McD.js";import{o as J}from"../chunks/Bzwl_pXD.js";import{e as L,L as N,a5 as P,a6 as k,p as R,a7 as T,a8 as j,f as z,t as F,g as r,a as B,c as _,s as h,b as g,m as V,i as G,r as u,n as H}from"../chunks/BJmXy5sT.js";import{s as K}from"../chunks/DtBVwIPO.js";import{e as Q,i as U}from"../chunks/BNuQNzG_.js";import{l as W}from"../chunks/CS5AdW1K.js";import{i as X}from"../chunks/Cv8AHZ5B.js";import{p as Z}from"../chunks/nFlSyP-m.js";import{N as $}from"../chunks/Ctq9ZN9f.js";import{F as ee}from"../chunks/Dzz7srfG.js";function I(e,i,l){if(e.multiple){if(i==null)return;if(!N(i))return P();for(var t of e.options)t.selected=i.includes(p(t));return}for(t of e.options){var a=p(t);if(k(a,i)){t.selected=!0;return}}(!l||i!==void 0)&&(e.selectedIndex=-1)}function ae(e,i){L(()=>{var l=new MutationObserver(()=>{var t=e.__value;I(e,t)});return l.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{l.disconnect()}})}function te(e,i,l=i){var t=!0;W(e,"change",a=>{var s=a?"[selected]":":checked",f;if(e.multiple)f=[].map.call(e.querySelectorAll(s),p);else{var m=e.querySelector(s)??e.querySelector("option:not([disabled])");f=m&&p(m)}l(f)}),L(()=>{var a=i();if(I(e,a,t),t&&a===void 0){var s=e.querySelector(":checked");s!==null&&(a=p(s),l(a))}e.__value=a,t=!1}),ae(e)}function p(e){return"__value"in e?e.__value:e.value}var re=Y("<option> </option>"),ie=Y('<!> <section class="section"><div class="container"><h1 class="title has-text-primary">ðŸ“Š Analytics Dashboard</h1> <div class="box"><div id="chart-year"></div></div> <div class="box"><div class="field mb-4"><label class="label">Select Year</label> <div class="control"><div class="select"><select></select></div></div></div> <div id="chart-month"></div></div></div></section> <!>',1);function he(e,i){R(i,!1);const t=Z(i,"data",8)().pois;let a=V(""),s=V([]),f;J(async()=>{const{Chart:c}=await C(async()=>{const{Chart:n}=await import("../chunks/BC-sOgeE.js");return{Chart:n}},[],import.meta.url),v=new Set,o={};t.forEach(n=>{const d=new Date(n.visitDate).getFullYear().toString();v.add(d),o[d]=(o[d]||0)+1}),g(s,Array.from(v).sort()),g(a,r(s).at(-1)||""),new c("#chart-year",{title:"Visits by Year",data:{labels:r(s),datasets:[{name:"Visits",values:r(s).map(n=>o[n]||0)}]},type:"line",height:300,colors:["#209cee"]}),m(r(a))});async function m(c){const{Chart:v}=await C(async()=>{const{Chart:n}=await import("../chunks/BC-sOgeE.js");return{Chart:n}},[],import.meta.url),o=Array(12).fill(0);t.forEach(n=>{const d=new Date(n.visitDate);d.getFullYear().toString()===c&&o[d.getMonth()]++}),f&&f.destroy(),f=new v("#chart-month",{title:`Visits by Month in ${c}`,data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{name:"Visits",values:o}]},type:"percentage",height:300,colors:["#ff3860","#ffdd57","#23d160","#209cee","#9c27b0","#ff9800"]})}T(()=>r(a),()=>{r(a)&&m(r(a))}),j(),X();var w=ie(),S=z(w);$(S);var b=h(S,2),x=_(b),M=h(_(x),4),A=_(M),D=h(_(A),2),q=_(D),y=_(q);F(()=>{r(a),G(()=>{r(s)})}),Q(y,5,()=>r(s),U,(c,v)=>{var o=re(),n={},d=_(o,!0);u(o),F(()=>{n!==(n=r(v))&&(o.value=(o.__value=r(v))??""),K(d,r(v))}),E(c,o)}),u(y),u(q),u(D),u(A),H(2),u(M),u(x),u(b);var O=h(b,2);ee(O),te(y,()=>r(a),c=>g(a,c)),E(e,w),B()}export{he as component};
